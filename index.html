<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Fighter Jet</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            background-color: #1a0033; /* Dark purple background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Press Start 2P', cursive; /* A pixel-art font for synthwave feel */
            color: #ff00cc; /* Synthwave pink for text */
            text-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc; /* Neon glow for text */
            overflow: hidden; /* Prevent scrolling */
        }

        #game-container {
            width: 100vw; /* Full browser width */
            height: 100vh; /* Full browser height */
            background-color: #000022;
            border-radius: 0; /* Remove border-radius for full screen */
            box-shadow: none; /* Remove box-shadow for full screen */
            position: relative;
            overflow: hidden; /* Crucial for game elements to stay within bounds */
            cursor: none; /* Hide default cursor */
        }

        /* Starfield styles */
        #stars-container {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Allows clicks to pass through */
            z-index: 0; /* Behind other game elements */
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: #ffffff; /* White stars */
            border-radius: 50%; /* Make them round */
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.7); /* Subtle glow */
        }

        #player-jet-wrapper1, #player-jet-wrapper2 {
            position: absolute;
            width: 80px; /* Smaller for game play */
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50; /* Ensure player is above everything */
            transition: opacity 0.1s; /* Smooth transition for flashing effect */
        }

        #player-jet-wrapper1.damaged-flash, #player-jet-wrapper2.damaged-flash {
            animation: flashEffect 0.3s steps(2, start) infinite; /* Fast on/off flash */
        }

        @keyframes flashEffect {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Player Tilt */
        #player-jet-wrapper1.tilt-left, #player-jet-wrapper2.tilt-left {
            transform: rotateZ(-5deg); /* Example tilt angle */
            transition: transform 0.1s ease-out;
        }

        #player-jet-wrapper1.tilt-right, #player-jet-wrapper2.tilt-right {
            transform: rotateZ(5deg); /* Example tilt angle */
            transition: transform 0.1s ease-out;
        }
        #player-jet-wrapper1.no-tilt, #player-jet-wrapper2.no-tilt {
            transform: rotateZ(0deg);
            transition: transform 0.1s ease-out;
        }


        #player-jet-wrapper1 svg, #player-jet-wrapper2 svg {
            width: 100%;
            height: 100%;
        }

        /* Player Health Bar Styles */
        #health-bar-container1, #health-bar-container2 {
            position: absolute;
            bottom: -10px; /* Position below the jet */
            left: 50%; /* Center horizontally within the player-jet-wrapper */
            transform: translateX(-50%); /* For perfect horizontal centering */
            width: 40px; /* Smaller */
            height: 4px; /* Smaller */
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid #00ffff;
            border-radius: 2px;
            z-index: 55;
        }

        #health-bar1, #health-bar2 {
            width: 100%; /* Max health */
            height: 100%;
            background: linear-gradient(to right, #00ff00, #00cc00);
            border-radius: 1px;
            transition: width 0.2s ease-out, background-color 0.2s ease-out; /* Smooth transition for health changes */
        }

        /* Player Projectile */
        .projectile {
            position: absolute;
            width: 5px; /* Smaller */
            height: 15px; /* Smaller */
            background: linear-gradient(to bottom, #FF00CC 0%, #00FFFF 100%); /* Brighter gradient, upwards direction */
            box-shadow: 0 0 5px #FF00CC, 0 0 10px #00FFFF, 0 0 15px rgba(0,255,255,0.7); /* Enhanced glow, adjusted for size */
            border-radius: 1px;
            z-index: 10;
        }

        /* Projectile for Laser Weapon */
        .projectile-laser {
            width: 10px !important;
            height: 30px !important;
            background: linear-gradient(to bottom, #00FFFF 0%, #00BFFF 100%) !important;
            box-shadow: 0 0 7px #00FFFF, 0 0 12px #00BFFF, 0 0 18px rgba(0,191,255,0.7) !important;
            border-radius: 2px !important;
        }
        /* Projectile for Piercing Weapon */
        .projectile-piercing {
            width: 7px !important;
            height: 20px !important;
            background: linear-gradient(to bottom, #FF00FF 0%, #CC00CC 100%) !important; /* Purple/pink glow */
            box-shadow: 0 0 8px #FF00FF, 0 0 15px rgba(255,0,255,0.7) !important;
            border-radius: 2px !important;
        }
        /* Projectile for Burst Weapon */
        .projectile-burst {
            width: 4px !important;
            height: 12px !important;
            background: linear-gradient(to bottom, #FFFF00 0%, #FFCC00 100%) !important; /* Yellow/orange glow */
            box-shadow: 0 0 4px #FFFF00, 0 0 8px rgba(255,255,0,0.7) !important;
            border-radius: 1px !important;
        }
        /* Projectile for Scatter Weapon (Balls) */
        .projectile-scatter-ball {
            width: 8px !important;
            height: 8px !important;
            border-radius: 50% !important; /* Make it a ball */
            background: radial-gradient(circle at center, #FF00FF 0%, #800080 100%) !important; /* Magenta/Purple */
            box-shadow: 0 0 5px #FF00FF, 0 0 10px rgba(255,0,255,0.7) !important;
        }
        /* Projectile for Heatseeker Weapon (Balls) */
        .projectile-heatseeker-ball {
            width: 8px !important;
            height: 8px !important;
            border-radius: 50% !important; /* Make it a ball */
            background: radial-gradient(circle at center, #FFFF00 0%, #FFA500 100%) !important; /* Yellow/Orange */
            box-shadow: 0 0 5px #FFFF00, 0 0 10px rgba(255,255,0,0.7) !important;
        }


        /* Enemy Jet Styles - Generic placeholder, specific styles come from enemy scripts */
        .enemy-jet-wrapper {
            position: absolute;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 40; /* Below player */
            transition: opacity 0.1s;
        }

        .enemy-jet-wrapper.damaged-flash {
            animation: flashEffect 0.3s steps(2, start) infinite;
        }

        .enemy-jet-wrapper svg {
            width: 100%;
            height: 100%;
        }

        /* Enemy Health Bar Styles */
        .enemy-health-bar-container {
            position: absolute;
            top: -10px; /* Position above the enemy jet */
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 4px;
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid #ff0000; /* Red border */
            border-radius: 2px;
            z-index: 45; /* Above enemy, below player */
        }

        .enemy-health-bar {
            width: 100%; /* Max health */
            height: 100%;
            background: linear-gradient(to right, #ff0000, #cc0000); /* Red gradient */
            border-radius: 1px;
            transition: width 0.2s ease-out;
        }

        /* Enemy Projectile */
        .enemy-projectile {
            position: absolute;
            width: 5px;
            height: 15px;
            background: linear-gradient(to top, #ff33cc 0%, #ff0000 100%); /* Ominous gradient */
            box-shadow: 0 0 5px #ff33cc, 0 0 10px #ff0000, 0 0 15px rgba(255,0,0,0.7);
            border-radius: 1px;
            z-index: 9; /* Below player projectiles */
        }

        /* Health Orb */
        .health-orb {
            position: absolute;
            /* width and height are set in JS for consistency */
            background: radial-gradient(circle at center, #00ff00 0%, #009900 100%);
            border-radius: 50%;
            box-shadow: 0 0 8px #00ff00, 0 0 15px rgba(0,255,0,0.5);
            z-index: 30; /* Between player and enemies */
        }

        /* Health Orb Collected Animation */
        .orb-collected-animation {
            position: absolute;
            background: radial-gradient(circle at center, rgba(0, 255, 0, 0.8) 0%, rgba(0, 153, 0, 0) 100%);
            border-radius: 50%;
            animation: orbCollectExpandFade 0.3s ease-out forwards;
            pointer-events: none;
            z-index: 31; /* Slightly above orbs */
        }
        @keyframes orbCollectExpandFade {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
                width: 15px;
                height: 15px;
            }
            100% {
                transform: translate(-50%, -50%) scale(3);
                opacity: 0;
                width: 45px; /* Max size */
                height: 45px; /* Max size */
            }
        }

        /* Blue Orb (Shield) */
        .blue-orb {
            position: absolute;
            /* width and height are set in JS for consistency */
            background: radial-gradient(circle at center, #00BFFF 0%, #007FFF 100%); /* Deep Sky Blue */
            border-radius: 50%;
            box-shadow: 0 0 8px #00BFFF, 0 0 15px rgba(0,191,255,0.5);
            z-index: 30;
        }

        /* Blue Orb Collected Animation */
        .blue-orb-collected-animation {
            position: absolute;
            background: radial-gradient(circle at center, rgba(0, 191, 255, 0.8) 0%, rgba(0, 127, 255, 0) 100%);
            border-radius: 50%;
            animation: orbCollectExpandFade 0.3s ease-out forwards;
            pointer-events: none;
            z-index: 31;
        }

        /* Weapon Orb */
        .weapon-orb {
            position: absolute;
            /* width and height are set in JS for consistency */
            background: radial-gradient(circle at center, #ff8c00 0%, #cc5500 100%); /* Dark orange */
            border-radius: 50%;
            box-shadow: 0 0 8px #ff8c00, 0 0 15px rgba(255,140,0,0.5);
            z-index: 30;
        }

        /* Weapon Orb Collected Animation */
        .weapon-orb-collected-animation {
            position: absolute;
            background: radial-gradient(circle at center, rgba(255, 140, 0, 0.8) 0%, rgba(204, 85, 0, 0) 100%);
            border-radius: 50%;
            animation: orbCollectExpandFade 0.3s ease-out forwards;
            pointer-events: none;
            z-index: 31;
        }


        /* Orb Destroyed Particle (Generic, colors updated in JS) */
        .orb-destroyed-particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background-color: #00ff00; /* Green color, will be overridden by JS */
            border-radius: 50%;
            box-shadow: 0 0 5px #00ff00; /* Will be overridden by JS */
            opacity: 1;
            transition: transform 0.4s ease-out, opacity 0.4s ease-out;
            z-index: 20;
            pointer-events: none;
        }

        .explosion-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(to bottom right, #FF00CC, #00FFFF, #FF9900);
            border-radius: 50%;
            box-shadow: 0 0 3px #FF00CC, 0 0 6px #00FFFF;
            opacity: 1;
            transition: transform 0.6s ease-out, opacity 0.6s ease-out; /* Smooth scatter and fade */
            z-index: 20;
        }

        /* Player Destroyed Particles */
        .player-destroyed-particle {
            position: absolute;
            width: 6px; /* Slightly larger */
            height: 6px; /* Slightly larger */
            background: linear-gradient(to bottom right, #FF00CC, #00FFFF, #8e2de2); /* Player-themed colors */
            border-radius: 50%;
            box-shadow: 0 0 5px #FF00CC, 0 0 10px #00FFFF, 0 0 15px #8e2de2; /* More pronounced glow */
            opacity: 1;
            transition: transform 0.8s ease-out, opacity 0.8s ease-out; /* Longer scatter and fade */
            z-index: 20;
            pointer-events: none;
        }

        #score-display1, #score-display2 {
            position: absolute;
            top: 10px;
            padding: 5px 10px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 3px;
            font-size: 0.8em;
            z-index: 100;
        }
        #score-display1 { left: 10px; }
        #score-display2 { right: 10px; }


        .game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            text-align: center;
            z-index: 200;
            visibility: hidden; /* Hidden by default */
            color: #ff00cc;
            text-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc;
        }

        .game-overlay.visible {
            visibility: visible;
        }

        .game-overlay button {
            background-color: #00ffff;
            color: #1a0033;
            border: 2px solid #ff00cc;
            padding: 10px 20px;
            margin-top: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7em;
            cursor: pointer;
            box-shadow: 0 0 10px #00ffff, 0 0 20px #ff00cc;
            transition: transform 0.1s ease-in-out;
        }

        .game-overlay button:hover, .game-overlay button.focused {
            transform: scale(1.05);
            border-color: #00ff00; /* Green highlight for focus */
        }
        .game-overlay button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
            border-color: #555;
            color: #ccc;
            background-color: #333;
        }

        #level-message-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5em;
            text-align: center;
            z-index: 190;
            visibility: hidden;
            pointer-events: none; /* Allows clicks to pass through */
            color: #ff00cc;
            text-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc;
        }
        #level-message-overlay.visible {
            visibility: visible;
        }

        /* Plane Selection Screen Styles */
        #plane-selection-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            text-align: center;
            z-index: 300; /* Above all other overlays */
            color: #ff00cc;
            text-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc;
            visibility: hidden; /* Hidden by default */
        }
        #plane-selection-screen.visible {
            visibility: visible;
        }

        #plane-selection-screen h1 {
            font-size: 1.5em;
        }
        #plane-selection-screen #player-turn-message {
            font-size: 0.8em;
            margin-bottom: 30px;
            color: #00ffff;
        }


        #plane-options {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
            justify-content: center;
            /* Allow scrolling for plane cards if they overflow vertically */
            max-height: 50vh;
            overflow-y: auto;
            padding: 20px; /* Add padding for scrollbar/visibility */
        }

        .plane-card {
            background-color: rgba(0, 0, 0, 0.7);
            border: 2px solid #00ffff;
            border-radius: 8px;
            padding: 20px;
            width: 250px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5), 0 0 25px rgba(255, 0, 204, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Make sure plane card itself doesn't scroll with content */
            flex-shrink: 0;
        }

        .plane-card:hover, .plane-card.focused {
            transform: scale(1.10);
            border-color: #ff00cc;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.7), 0 0 35px rgba(255, 0, 204, 0.5);
        }

        .plane-card h2 {
            font-size: 0.5em;
            margin-top: 0;
            color: #00ffff;
            text-shadow: 0 0 5px #00ffff;
            margin-bottom: 10px;
        }

        .plane-card p {
            font-size: 0.3em;
            color: #ffffff;
            line-height: 1.4;
            text-shadow: none; /* Remove neon glow for better readability in description */
            margin-bottom: 5px;
        }
        .plane-card .stat {
            font-size: 0.3em;
            color: #ff00cc;
            margin-top: 5px;
        }

        .plane-card .plane-svg {
            width: 150px; /* SVG size for preview */
            height: 150px; /* SVG size for preview */
            margin-bottom: 15px;
            filter: drop-shadow(0 0 8px rgba(0,255,255,0.7)) drop-shadow(0 0 12px rgba(255,0,204,0.5));
        }

        /* Player 1 Selected Plane */
        .plane-card.selected-p1 {
            border-color: #00ff00; /* Green for P1 selection */
            box-shadow: 0 0 25px #00ff00, 0 0 40px rgba(0, 255, 0, 0.7);
            transform: scale(1.05);
        }
        /* Player 2 Selected Plane */
        .plane-card.selected-p2 {
            border-color: #ff9900; /* Orange for P2 selection */
            box-shadow: 0 0 25px #ff9900, 0 0 40px rgba(255, 153, 0, 0.7);
            transform: scale(1.05);
        }
        /* Both players selected (can add combined style if needed) */
        .plane-card.selected-p1.selected-p2 {
            border-color: linear-gradient(to right, #00ff00, #ff9900); /* Blend */
            box-shadow: 0 0 25px #00ff00, 0 0 40px rgba(0, 255, 0, 0.7), 0 0 25px #ff9900, 0 0 40px rgba(255, 153, 0, 0.7);
        }


        #start-game-button {
            margin-top: 60px;
            font-size: 1em;
            padding: 15px 30px;
            background-color: #ff00cc;
            color: #1a0033;
            border: 3px solid #00ffff;
            box-shadow: 0 0 15px #ff00cc, 0 0 30px #00ffff;
        }
        #start-game-button:hover, #start-game-button.focused {
            transform: scale(1.08);
            border-color: #00ff00;
        }
        #start-game-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
            border-color: #555;
            color: #ccc;
            background-color: #333;
        }

        /* Intro Screen Styles */
        #intro-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            text-align: center;
            z-index: 400; /* Highest z-index */
            color: #ff00cc;
            text-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc;
        }
        #intro-screen h1 {
            font-size: 3em;
            margin-bottom: 80px;
            line-height: 1.2;
        }
        #intro-screen .player-mode-buttons {
            display: flex;
            gap: 30px;
            margin-bottom: 60px;
        }
        #intro-screen button {
            background-color: #00ffff;
            color: #1a0033;
            border: 2px solid #ff00cc;
            padding: 15px 30px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.8em;
            cursor: pointer;
            box-shadow: 0 0 10px #00ffff, 0 0 20px #ff00cc;
            transition: transform 0.1s ease-in-out;
        }
        #intro-screen button:hover, #intro-screen button.focused {
            transform: scale(1.05);
            border-color: #00ff00;
        }
        #intro-screen .controls-opacity-slider {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            font-size: 0.8em;
        }
        #intro-screen input[type="range"] {
            width: 200px;
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: linear-gradient(to right, #00ffff, #ff00cc);
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }
        #intro-screen input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc;
        }
        #intro-screen input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 0 5px #00ffff, 0 0 10px #ff00cc;
        }

        /* Touch Controls */
        #touch-controls-container {
            position: absolute;
            bottom: 25%; /* Moved higher from the bottom */
            left: 0;
            width: 100%;
            height: 150px; /* Area for touch controls */
            z-index: 250;
            display: flex;
            justify-content: space-between;
            align-items: center;
            pointer-events: none; /* Allows elements below to be clickable until touch event is initiated */
            opacity: 0.4; /* Default opacity, controlled by slider */
        }
        #touch-controls-container.visible {
            pointer-events: auto; /* Enable touch interaction when visible */
        }

        .touch-joystick-base {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: rgba(0, 255, 255, 0.2);
            border: 2px solid #00ffff;
            bottom: 20px; /* Stays at the bottom of the touch container */
            display: none; /* Hidden by default */
            box-shadow: 0 0 10px #00ffff;
        }
        .touch-joystick-base.left-side {
            left: 30px; /* For left joystick */
        }
        .touch-joystick-base.right-side {
            right: 30px; /* For right joystick */
        }
        .touch-joystick-base.visible {
            display: block;
        }

        .touch-joystick-handle {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: rgba(255, 0, 204, 0.6);
            border: 2px solid #ff00cc;
            transform: translate(-50%, -50%); /* For perfect centering */
            left: 50%; /* Center within base */
            top: 50%; /* Center within base */
            pointer-events: none; /* Handle moves with touch, doesn't capture events itself */
            box-shadow: 0 0 8px #ff00cc;
        }

        .touch-fire-button {
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: rgba(255, 255, 0, 0.3);
            border: 2px solid #ffff00;
            /* REMOVED: top: 10px; */
            bottom: 250%; /* Positioned from the bottom of #touch-controls-container */
            display: none; /* Hidden by default */
            cursor: pointer;
            box-shadow: 0 0 10px #ffff00;
            transform: translateX(-50%); /* Centering horizontally relative to its left/right anchor */
        }
        .touch-fire-button.left-side {
            left: 80px; /* 30px (joystick left) + 50px (half joystick width) = 80px */
            /* REMOVED: original left: calc(30%); */
        }
        .touch-fire-button.right-side {
            /* Position the right fire button by calculating its left position from the right joystick's center */
            left: calc(100% - 80px); /* 100% (container width) - 80px (right joystick center) */
            /* REMOVED: original right: calc(30%); */
        }
        .touch-fire-button.visible {
            display: block;
        }
        .touch-fire-button.active {
            background-color: rgba(255, 255, 0, 0.7);
            box-shadow: 0 0 15px #ffff00, 0 0 25px rgba(255,255,0,0.7);
        }

        /* Player Weapon Indicator - now a class */
        .weapon-indicator {
            position: absolute;
            width: 20px;
            height: 5px;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }

        /* Player Shield - now a class */
        .player-shield {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle at center, rgba(0, 191, 255, 0.4) 0%, rgba(0, 191, 255, 0) 100%);
            border: 2px solid rgba(0, 191, 255, 0.8);
            box-shadow: 0 0 15px #00BFFF, 0 0 25px rgba(0,191,255,0.7);
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 49;
            animation: shieldPulse 1s infinite alternate;
        }

    </style>
</head>
<body>

    <div id="game-container">
        <div id="stars-container"></div>

        <!-- Player 1 Elements -->
        <div id="score-display1">SCORE: 0</div>
        <div id="player-jet-wrapper1" class="no-tilt">
            <svg viewBox="0 0 1000 1000"></svg>
            <!-- Health Bar directly under the player jet -->
            <div id="health-bar-container1">
                <div id="health-bar1"></div>
            </div>
        </div>

        <!-- Player 2 Elements (initially hidden) -->
        <div id="score-display2" style="display: none;">SCORE: 0</div>
        <div id="player-jet-wrapper2" class="no-tilt" style="display: none;">
            <svg viewBox="0 0 1000 1000"></svg>
            <div id="health-bar-container2">
                <div id="health-bar2"></div>
            </div>
        </div>


        <div id="game-over-screen" class="game-overlay">
            <p>GAME OVER</p>
            <p id="final-score">Final Score: 0</p>
            <button id="restart-button">RESTART</button>
        </div>

        <div id="level-message-overlay">
            <p id="level-message-text"></p>
        </div>

        <div id="game-finished-screen" class="game-overlay">
            <p>YOU HAVE FINISHED THE GAME!</p>
            <p id="final-score-finished">Final Score: 0</p>
            <button id="play-again-button">PLAY AGAIN</button>
        </div>

        <!-- Plane Selection Screen -->
        <div id="plane-selection-screen">
            <h1 id="plane-selection-title">CHOOSE YOUR FIGHTER</h1>
            <p id="player-turn-message"></p>
            <div id="plane-options">
                <!-- Plane cards will be dynamically inserted here -->
            </div>
            <button id="start-game-button" disabled>START GAME</button>
        </div>

        <!-- Intro Screen -->
        <div id="intro-screen">
            <h1>SPACE<br>FIGHTER JETS</h1>
            <div class="player-mode-buttons">
                <button id="one-player-button">1 PLAYER</button>
                <button id="two-players-button">2 PLAYERS</button>
            </div>
            <div class="controls-opacity-slider">
                <label for="touch-opacity-slider">TOUCH CONTROLS OPACITY</label>
                <input type="range" id="touch-opacity-slider" min="0" max="1" step="0.1" value="0.4">
            </div>
        </div>

        <!-- Touch Controls Container -->
        <div id="touch-controls-container">
            <!-- Player 1 Controls -->
            <div id="touch-joystick-left-base" class="touch-joystick-base left-side">
                <div id="touch-joystick-left-handle" class="touch-joystick-handle"></div>
            </div>
            <div id="touch-fire-left" class="touch-fire-button left-side"></div>

            <!-- Player 2 Controls -->
            <div id="touch-joystick-right-base" class="touch-joystick-base right-side">
                <div id="touch-joystick-right-handle" class="touch-joystick-handle"></div>
            </div>
            <div id="touch-fire-right" class="touch-fire-button right-side"></div>
        </div>

    </div>

    <!-- Music Player -->
    <audio id="background-music" src="music.wav" loop autoplay volume="0.3"></audio>

    <script src="playerPlanes.js"></script>
    <!-- NEW: Load game.js after playerPlanes.js -->
    <script src="game.js"></script>
</body>
</html>
